@model FPTBook.Models.User
@{
    ViewBag.Title = "ChangePass";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

@if (ViewBag.Success != null)
{
    <script type="text/javascript">
    window.onload = function () {
        alert("@ViewBag.Success");
        window.location = '/';
    };
    </script>
}

    <!------ Include the above in your HEAD tag ---------->
    <br />
    <br />
    <br />
<br />
<br />
<div>
    <div class="container" style="margin-left:440px; ">
        @using (Html.BeginForm("ChangePass", "User", new { ReturnUrl = ViewBag.ReturnUrl }, FormMethod.Post, new { @style = "background: white" }))
        {

            @Html.AntiForgeryToken()
            @Html.ValidationSummary(true, "", new { @class = "text-danger" })
            <div class="row row-cols-3">
                <div class="text-center">
                    <h3><i class="fa fa-lock fa-4x"></i></h3>
                    <h2 class="text-center">Change Password?</h2>
                    <p>You can update your password here.</p>
                    <form id="register-form" role="form" autocomplete="off" class="form" method="post">

                        <div class="form-group">
                            <strong>Curent Password</strong>
                            <br>
                            @Html.PasswordFor(u => u.CurrentPassword, new { @class = "form-control form-control-lg", @placeholder = "Enter current password", @autofocus = "", @required = "" })
                            @if (ViewBag.Error != null)
                            {
                                <p class="text-danger">@ViewBag.Error</p>
                            }

                        </div>
                        <br />
                        <div class="form-group">
                            <strong>New Password</strong>
                            <br>
                            @Html.PasswordFor(u => u.NewPassword, new { @class = "form-control form-control-lg", @placeholder = "Enter new password", @required = "" })
                            @Html.ValidationMessageFor(model => model.NewPassword, "", new { @class = "text-danger" })
                        </div>
                        <br />
                        <div class="form-group">
                            <strong>Confirm New Password</strong>
                            <br />

                            @Html.PasswordFor(u => u.ConfirmNewPassword, new { @class = "form-control form-control-lg", @placeholder = "Confirm new password", @required = "" })
                            @if (ViewBag.Confirm != null)
                            {
                                <p class="text-danger">@ViewBag.Confirm</p>
                            }
                        </div>
                        <br />
                        <div class="form-group">
                            <input name="recover-submit" class="btn btn-lg btn-primary btn-block" value="Save Password" type="submit">
                        </div>

                        <input type="hidden" class="hide" name="token" id="token" value="">
                    </form>
                </div>
            </div>
        }
    </div>
</div>
          
<br />
<br />